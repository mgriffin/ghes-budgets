<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>GHES Budgets</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" media="screen" href="css/primer.css">
  </head>
  <body>
    <div class="Header">
      <div class="Header-item">
<svg class="octicon" xmlns="http://www.w3.org/2000/svg" height="32" width="32" viewBox="0 0 460 460">
  <path d="M369.635,0H90.365C73.595,0,60,13.595,60,30.365v399.27C60,446.405,73.595,460,90.365,460h279.27
  c16.77,0,30.365-13.595,30.365-30.365V30.365C400,13.595,386.405,0,369.635,0z M108.204,343.61v-43.196
  c0-3.451,2.797-6.248,6.248-6.248h43.196c3.451,0,6.248,2.797,6.248,6.248v43.196c0,3.451-2.797,6.248-6.248,6.248h-43.196
  C111.001,349.858,108.204,347.06,108.204,343.61z M108.204,256.61v-43.196c0-3.451,2.797-6.248,6.248-6.248h43.196
  c3.451,0,6.248,2.797,6.248,6.248v43.196c0,3.451-2.797,6.248-6.248,6.248h-43.196C111.001,262.858,108.204,260.06,108.204,256.61
  z M308.891,421H151.109c-11.046,0-20-8.954-20-20c0-11.046,8.954-20,20-20h157.782c11.046,0,20,8.954,20,20
  C328.891,412.046,319.937,421,308.891,421z M208.402,294.165h43.196c3.451,0,6.248,2.797,6.248,6.248v43.196
  c0,3.451-2.797,6.248-6.248,6.248h-43.196c-3.451,0-6.248-2.797-6.248-6.248v-43.196
  C202.154,296.963,204.951,294.165,208.402,294.165z M202.154,256.61v-43.196c0-3.451,2.797-6.248,6.248-6.248h43.196
  c3.451,0,6.248,2.797,6.248,6.248v43.196c0,3.451-2.797,6.248-6.248,6.248h-43.196C204.951,262.858,202.154,260.06,202.154,256.61
  z M345.548,349.858h-43.196c-3.451,0-6.248-2.797-6.248-6.248v-43.196c0-3.451,2.797-6.248,6.248-6.248h43.196
  c3.451,0,6.248,2.797,6.248,6.248v43.196h0C351.796,347.061,348.999,349.858,345.548,349.858z M345.548,262.858h-43.196
  c-3.451,0-6.248-2.797-6.248-6.248v-43.196c0-3.451,2.797-6.248,6.248-6.248h43.196c3.451,0,6.248,2.797,6.248,6.248v43.196h0
  C351.796,260.061,348.999,262.858,345.548,262.858z M354,149.637c0,11.799-9.565,21.363-21.363,21.363H127.364
  C115.565,171,106,161.435,106,149.637V62.363C106,50.565,115.565,41,127.364,41h205.273C344.435,41,354,50.565,354,62.363V149.637
  z"/>
</svg>
      </div>
    </div>
    <div class="container-lg clearfix">
      <div class="Subhead">
        <div class="Subhead-heading">GitHub Enterprise Budgets Calculator</div>
        <div class="Subhead-description">GitHub Enterprise starts a different number of some worker processes depending on the CPU and memory available to an instance.</div>
      </div>
    </div>
    <div class="container-lg clearfix">
      <div class="col-4 float-left p-4">
        <div class="Box Box--blue Box--condensed">
          <div class="Box-header">
            <h3 class="Box-title">
              Version
            </h3>
          </div>
          <div class="Box-row">
            <input id="version" type="number" class="form-control input-lg" value="2">
          </div>
        </div>
      </div>
      <div class="col-4 float-left p-4">
        <div class="Box Box--blue Box--condensed">
          <div class="Box-header">
            <h3 class="Box-title">
              CPUs
            </h3>
          </div>
          <div class="Box-row">
            <input id="cpus" type="number" class="form-control input-lg" value="2">
          </div>
        </div>
      </div>
      <div class="col-4 float-left p-4">
        <div class="Box Box--blue Box--condensed">
          <div class="Box-header">
            <h3 class="Box-title">
              GB RAM
            </h3>
          </div>
          <div class="Box-row">
            <input id="memory" type="number" class="form-control input-lg" value="16">
          </div>
        </div>
      </div>
    </div>
    <hr>
    <div class="container-lg clearfix">
      <div class="col-4 float-left p-4">
        <div class="Box Box--blue Box--condensed">
          <div class="Box-header">
            <h3 class="Box-title">
              GitHub Unicorns
            </h3>
          </div>
          <div class="Box-row">
            <p id="githubunicorns" class="h1 text-center">4</p>
          </div>
        </div>
      </div>
      <div class="col-4 float-left p-4">
        <div class="Box Box--blue Box--condensed">
          <div class="Box-header">
            <h3 class="Box-title">
              Ernicorns (on a replica)
            </h3>
          </div>
          <div class="Box-row">
            <p id="githubernicorns" class="h1 text-center">2</p>
          </div>
        </div>
      </div>
      <div class="col-4 float-left p-4">
        <div class="Box Box--blue Box--condensed">
          <div class="Box-header">
            <h3 class="Box-title">
              Gitauth Unicorns
            </h3>
          </div>
          <div class="Box-row">
            <p id="gitauthunicorns" class="h1 text-center">2</p>
          </div>
        </div>
      </div>
    </div>
    <div class="container-lg clearfix">
      <div class="col-4 float-left p-4">
        <div class="Box Box--blue Box--condensed">
          <div class="Box-header">
            <h3 class="Box-title">
              High workers
            </h3>
          </div>
          <div class="Box-row">
            <p id="highworkers" class="h1 text-center">2</p>
          </div>
        </div>
      </div>
      <div class="col-4 float-left p-4">
        <div class="Box Box--blue Box--condensed">
          <div class="Box-header">
            <h3 class="Box-title">
              Low workers
            </h3>
          </div>
          <div class="Box-row">
            <p class="h1 text-center">2</p>
          </div>
        </div>
      </div>
      <div class="col-4 float-left p-4">
        <div class="Box Box--blue Box--condensed">
          <div class="Box-header">
            <h3 class="Box-title">
              Maintenance workers
            </h3>
          </div>
          <div class="Box-row">
            <p class="h1 text-center">1</p>
          </div>
        </div>
      </div>
    </div>
    <script type="text/javascript" src="./js/budgets.js"></script>
    <script type="text/javascript">
      document.getElementById('memory').addEventListener('change', function() {
              if (this.value < 16) {
                      this.value = 16;
                    }
              document.getElementById('githubunicorns').innerHTML = github_unicorns('2.22', this.value);
              document.getElementById('githubernicorns').innerHTML = github_ernicorns('2.22', this.value);
              document.getElementById('gitauthunicorns').innerHTML = gitauth_unicorns('2.22', this.value);
            });

      document.getElementById('cpus').addEventListener('change', function() {
              if (this.value < 2) {
                      this.value = 2;
                    }
              document.getElementById('highworkers').innerHTML = total_workers(this.value) - 2;
            });
    </script>
  </body>
</html>
